<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Content Controls Form</title>
    <link rel="stylesheet" href="content.css">
</head>
<body>

<h1>Karta zadania</h1>

<div class="form-grid">

    <!-- ===================================================== -->
    <!--  GÓRNA RAMKA — Nazwa / Zadania nadrzędne / Status     -->
    <!-- ===================================================== -->
    <fieldset class="row-fieldset">
        <div class="row row-top">

            <div class="cell">
                <label>Nazwa zadania</label>
                <input type="text">
            </div>

            <div class="cell">
                <label>Zadania nadrzędne</label>
                <select>
                    <option>Transport owiec</option>
                    <option>Naprawa maszyny</option>
                    <option>Procedura 08</option>
                </select>
            </div>

            <div class="cell">
                <label>Status zadania</label>
                <select>
                    <option>Otwarte</option>
                    <option>Zamknięte</option>
                    <option>Usuń zadanie</option>
                </select>
            </div>

            <div class="cell empty"></div>

        </div>
    </fieldset>

    <!-- ===================================================== -->
    <!--  RAMKA 2 — Data / Zlecający / Typ / Odpowiedzialny    -->
    <!-- ===================================================== -->
    <fieldset class="row-fieldset">
        <div class="row">

            <div class="cell">
                <label>Data dodania</label>

                <div class="date-control">
                    <button class="date-btn date-btn-left">
                        <img src="svg-folder/LeftIcon.svg">
                    </button>
                    <input type="date" class="date-input">
                    <button class="date-btn date-btn-calendar">
                        <img src="svg-folder/CalendarIcon.svg">
                    </button>
                    <button class="date-btn date-btn-right">
                        <img src="svg-folder/RightIcon.svg">
                    </button>
                </div>

                <label>Zlecający</label>
                <select>
                    <option>Ja</option>
                    <option>Jan Kowalski</option>
                    <option>Sławomir</option>
                </select>
            </div>

            <div class="cell">
                <label>Typ zadania</label>
                <select>
                    <option>publiczne</option>
                    <option>prywatne</option>
                </select>

                <label>Odpowiedzialny</label>
                <select>
                    <option>Ja</option>
                    <option>Jan Kowalski</option>
                    <option>Sławomir</option>
                </select>
            </div>

            <div class="cell">
                <label>Opis skrócony</label>
                <textarea rows="3"></textarea>
            </div>

            <div class="cell">
                <label>Opis pełny</label>
                <textarea rows="6"></textarea>
            </div>

        </div>
    </fieldset>

    <!-- ===================================================== -->
    <!--  RAMKA 3 — Waga kontrahenta + termin                  -->
    <!-- ===================================================== -->
    <fieldset class="row-fieldset">
        <div class="row">

            <div class="cell">
                <label>Waga kontrahenta</label>

                <div class="weight-line">
                    <input type="number" min="1" max="5" class="weight-input" value="1">
                    <span class="weight-desc"></span>
                </div>
            </div>

            <div class="cell">
                <label>Termin kontrahenta</label>

                <div class="date-control">
                    <button class="date-btn date-btn-left">
                        <img src="svg-folder/LeftIcon.svg">
                    </button>
                    <input type="date" class="date-input">
                    <button class="date-btn date-btn-calendar">
                        <img src="svg-folder/CalendarIcon.svg">
                    </button>
                    <button class="date-btn date-btn-right">
                        <img src="svg-folder/RightIcon.svg">
                    </button>
                </div>
            </div>

            <div class="cell empty"></div>
            <div class="cell empty"></div>

        </div>
    </fieldset>

    <!-- ===================================================== -->
    <!--  RAMKA 4 — Waga wewnętrzna + termin                   -->
    <!-- ===================================================== -->
    <fieldset class="row-fieldset">
        <div class="row">

            <div class="cell">
                <label>Waga wewnętrzna</label>

                <div class="weight-line">
                    <input type="number" min="1" max="5" class="weight-input" value="1">
                    <span class="weight-desc"></span>
                </div>
            </div>

            <div class="cell">
                <label>Termin wewnętrzny</label>

                <div class="date-control">
                    <button class="date-btn date-btn-left">
                        <img src="svg-folder/LeftIcon.svg">
                    </button>
                    <input type="date" class="date-input">
                    <button class="date-btn date-btn-calendar">
                        <img src="svg-folder/CalendarIcon.svg">
                    </button>
                    <button class="date-btn date-btn-right">
                        <img src="svg-folder/RightIcon.svg">
                    </button>
                </div>
            </div>

            <div class="cell empty"></div>
            <div class="cell empty"></div>

        </div>
    </fieldset>

    <!-- ===================================================== -->
    <!--  RAMKA 5 — Opis IronInsight                           -->
    <!-- ===================================================== -->
    <fieldset class="row-fieldset">
        <div class="row">

            <div class="cell">
                <label>Opis IronInsight</label>
                <textarea rows="16">
IronInsight to narzędzie, które wprowadza brutalną efektywność do świata danych, łącząc stalową niezawodność Iron z błyskawiczną klarownością Insight, zmieniając każdy bałagan informacyjny w przewagę, która naprawdę robi różnicę; to platforma dla zespołów, które nie mają czasu na półśrodki — natychmiastowe wglądy, agresywnie szybkie decyzje, dopracowany interfejs oparty na precyzyjnym systemie modalnym i inteligentnych komponentach, motywy light/dark budujące idealne środowisko pracy, pełna kontrola nad przepływem informacji i absolutna przewidywalność działania.

IronInsight nie prosi o uwagę — ono ją wymusza, bo od pierwszej sekundy daje Ci więcej mocy, więcej wglądu, więcej tempa.
                </textarea>
            </div>

            <div class="cell empty"></div>
            <div class="cell empty"></div>
            <div class="cell empty"></div>

        </div>
    </fieldset>

</div>

<!-- ===================================================== -->
<!--  KONTROLKI FONTÓW                                     -->
<!-- ===================================================== -->

<div class="content-controls">
    Czcionka:
    <select id="content-font-select"></select>

    Rozmiar:
    <input id="content-font-size" type="number" min="10" max="32">

    Szarość:
    <input id="content-font-opacity" type="number" min="0" max="100">

    <button id="content-refresh" class="content-refresh-button">REFRESH</button>
</div>

<!-- ===================================================== -->
<!--  DOLNE PRZYCISKI                                      -->
<!-- ===================================================== -->

<div class="content-buttons">
    <button class="content-btn content-btn-ok">OK</button>
    <button class="content-btn content-btn-activate">AKTYWUJ</button>
    <button class="content-btn content-btn-stop">STOP</button>
    <button class="content-btn content-btn-no">NIE</button>
    <button class="content-btn content-btn-cancel">CANCEL</button>
    <button class="content-btn content-btn-add">DODAJ</button>
</div>

<!-- ===================================================== -->
<!--  JS — OPIS WAGI + RAMKI 4/5                           -->
<!-- ===================================================== -->

<script>
(function(){
    const map = {
        1: { text: "Zadanie mniejszej wagi", cls: "weight-blue" },
        2: { text: "Zadanie zwykłe",         cls: "weight-blue" },
        3: { text: "Zadanie ważne",          cls: "weight-blue" },
        4: { text: "Bardzo ważne",           cls: "weight-yellow" },
        5: { text: "Krytyczne",              cls: "weight-red" }
    };

    document.querySelectorAll(".weight-line").forEach(line => {
        const input = line.querySelector(".weight-input");
        const desc  = line.querySelector(".weight-desc");

        function update() {
            const v   = parseInt(input.value, 10);
            const cfg = map[v];

            desc.textContent = cfg ? cfg.text : "";
            desc.className   = "weight-desc " + (cfg ? cfg.cls : "");

            input.classList.remove("weight-4","weight-5");
            if (v === 4) input.classList.add("weight-4");
            else if (v === 5) input.classList.add("weight-5");
        }

        update();
        input.addEventListener("input",  update);
        input.addEventListener("change", update);
    });
})();
</script>

<!-- ===================================================== -->
<!--  JS — DATY (LEWO / PRAWO / KALENDARZ)                 -->
<!-- ===================================================== -->

<script>
(function(){

    function toISODate(d) {
        return d.toISOString().split("T")[0];
    }

    function shiftDate(input, delta) {
        let d = input.value ? new Date(input.value) : new Date();
        if (isNaN(d.getTime())) d = new Date();
        d.setDate(d.getDate() + delta);
        input.value = toISODate(d);
    }

    document.querySelectorAll(".date-control").forEach(control => {
        const input    = control.querySelector(".date-input");
        const btnLeft  = control.querySelector(".date-btn-left");
        const btnRight = control.querySelector(".date-btn-right");
        const btnCal   = control.querySelector(".date-btn-calendar");

        if (!input.value)
            input.value = toISODate(new Date());

        btnLeft.addEventListener("click", () => shiftDate(input, -1));
        btnRight.addEventListener("click", () => shiftDate(input, +1));

        btnCal.addEventListener("click", () => {
            if (typeof input.showPicker === "function")
                 input.showPicker();
            else {
                input.click();
                setTimeout(() => input.focus(), 0);
            }
        });
    });

})();
</script>

<!-- ===================================================== -->
<!--  JS — STATUS ZADANIA (KOLORY)                         -->
<!-- ===================================================== -->

<script>
(function(){

    function updateStatus(select) {
        const value = select.value.trim().toLowerCase();

        select.classList.remove("status-open","status-closed","status-delete");

        if (value === "otwarte") {
            select.classList.add("status-open");
        } else if (value === "zamknięte") {
            select.classList.add("status-closed");
        } else if (value === "usuń zadanie") {
            select.classList.add("status-delete");
        }
    }

    document.querySelectorAll("select").forEach(sel => {
        if (sel.previousElementSibling &&
            sel.previousElementSibling.textContent.includes("Status zadania")) {

            updateStatus(sel);
            sel.addEventListener("change", () => updateStatus(sel));
        }
    });

})();
</script>

<!-- ===================================================== -->
<!--  JS — KONTROLKI FONTÓW                                -->
<!-- ===================================================== -->

<script>
(function(){

    const defaultFont    = "Open Sans";
    const defaultSize    = 14;
    const defaultOpacity = 100;

    const fonts = [
        "FrutigerNeue Bold","FrutigerNeue Light",
        "Inconsolata Condensed Medium","Inconsolata Condensed Regular",
        "Inconsolata Condensed SemiBold",
        "Open Sans","Samsung Sans","Satoshi","Inter",
        "Geograph","DieGrotesk","Manrope","Larke Neue Thin",
        "Liberation Sans","Libra Sans","Opening Hours Sans",
        "Sora","Poppins Light","Plus Jakarta Sans","Nimbus Sans",
        "Minecraftia","Ubuntu Light","Roboto","Segoe UI Thin",
        "Cantarell","Exo 2","Aileron Light","Montserrat Light"
    ];

    const fontSelect   = document.getElementById("content-font-select");
    const sizeInput    = document.getElementById("content-font-size");
    const opacityInput = document.getElementById("content-font-opacity");
    const refreshBtn   = document.getElementById("content-refresh");

    fontSelect.innerHTML = fonts.map(f => `<option value="${f}">${f}</option>`).join("");

    const STORAGE_KEY = "contentFrameSettings";

    function loadSettings() {
        try { return JSON.parse(localStorage.getItem(STORAGE_KEY)); }
        catch(e){ return null; }
    }

    function saveSettings(settings) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(settings));
    }

    function apply(settings) {
        document.documentElement.style.setProperty("--content-font-family", settings.font);
        document.documentElement.style.setProperty("--content-font-size", settings.size + "px");
        document.documentElement.style.setProperty("--content-opacity", settings.opacity / 100);
    }

    function refresh() {
        const settings = {
            font: fontSelect.value || defaultFont,
            size: parseInt(sizeInput.value, 10) || defaultSize,
            opacity: Math.min(100, Math.max(0, parseInt(opacityInput.value, 10) || defaultOpacity))
        };
        saveSettings(settings);
        apply(settings);
    }

    const initial = loadSettings() || {
        font: defaultFont, size: defaultSize, opacity: defaultOpacity
    };

    fontSelect.value       = initial.font;
    sizeInput.value        = initial.size;
    opacityInput.value     = initial.opacity;

    apply(initial);
    refreshBtn.addEventListener("click", refresh);

})();
</script>

</body>
</html>
